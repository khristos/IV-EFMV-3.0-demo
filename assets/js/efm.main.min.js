/*! efm-viewer v3.0.0 | (c) 2020 Illustrated Verdict | Illustrated Verdict License | https://github.com/khristos/IV-EFMV */
/*! efm-viewer v3.0.0 | (c) 2020 Illustrated Verdict | Illustrated Verdict License | https://github.com/khristos/IV-EFMV */
var EFM={};EFM.Util={extend:function(){var t={};return Array.prototype.forEach.call(arguments,(function(e){for(var n in e){if(!e.hasOwnProperty(n))return;t[n]=e[n]}})),t},secondsToHms:function(t){t=Number(t);var e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=Math.floor(t%3600%60);return(e>0?e+":":"")+(n<10?"0":"")+n+":"+(r<10?"0":"")+r},hmsToMilliseconds:function(t,e,n){return(Math.floor(Number(60*t*60*1e3))||0)+(Math.floor(Number(60*e*1e3))||0)+(Math.floor(Number(1e3*n))||0)},debounce:function(t){var e;return function(){var n=this,r=arguments;e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame((function(){t.apply(n,r)}))}},emitEvent:function(t,e,n){if(n.settings.events){var r=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e.dispatchEvent(r)}},get:function(t,e,n){e=(function(t){if("string"!=typeof t)return t;var e=[];return t.split(".").forEach((function(t){t.split(/\[([^}]+)\]/g).forEach((function(t){t.length>0&&e.push(t)}))})),e})(e);for(var r=t,o=0;o<e.length;o++){if(!r[e[o]])return n;r=r[e[o]]}return r},getXHRData:function(t){var e=EFM.Util;atomic("./content/data/config.json",{method:"GET",headers:{accept:"application/json","Access-Control-Allow-Origin":"/"}}).then((function(n){e.setLocalData(n.data.configData.id,n.data),t()})).catch((function(n){console.log("error code: ",n.status),console.log("error description: ",n.statusText),JSONP.init({error:function(t){console.log("FAILED TO LOAD: "+t.url)},timeout:3e3}),JSONP.get("./content/data/config.js?otherParam=1",{param1:"a",param2:"b"},(function(n){console.log("JSONP: ",n),e.setLocalData(n.configData.id,n),t()}))}))},getLocalData:function(t){var e=localStorage.getItem(t);return e?JSON.parse(e):[]},setLocalData:function(t,e){localStorage.setItem(t,"string"==typeof e?e:JSON.stringify(e))},logConsole:function(t){console.log(t)},logTable:function(t){console.table(t)},ready:function(t,e){if("function"==typeof e)return"interactive"===t.readyState||"complete"===t.readyState?e():void t.addEventListener("DOMContentLoaded",e,!1)},
/*!
  * Create a new object composed of properties that meet specific criteria
  * (c) 2018 Chris Ferdinandi, MIT License, https://gomakethings.com
  * @param  {Object}   obj      The original object
  * @param  {Function} callback The callback test to run
  * @return {Object}            The new, filtered object
  */
objectFilter:function(t,e){"use strict";var n={};for(var r in t)t.hasOwnProperty(r)&&e(t[r],r,t)&&(n[r]=t[r]);return n},
/*!
  * More accurately check the type of a JavaScript object
  * (c) 2018 Chris Ferdinandi, MIT License, https://vanillajstoolkit.com/helpers/truetypeof/
  * @param  {Object} obj The object
  * @return {String}     The object type
  */
trueTypeOf:function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},
/*!
  * Convert an array of objects into an object of objects
  * https://medium.com/dailyjs/rewriting-javascript-converting-an-array-of-objects-to-an-object-ec579cafbfc7
  * https://javascript.info/keys-values-entries#transforming-objects
  * @param  {Array} array       The array
  * @param  {String} keyField   The array field to use as key to object
  * @return {Object}            The object containing the strip information
  */
arrayToObject:function(t,e){return t.reduce((function(t,n){return t[n[e]]=n,t}),{})},getStrip:function(t,e){if(!t)return console.info("NO STRIP INFORMATION RECEIVED.");if(!e)return t[0];for(var n=0;n<t.length;++n)if(t[n].id===e)return t[n];return null},getStripTimes:function(t){if(!t)return null;var e=t._startHour,n=t._endHour,r=t._startMinute,o=t._endMinute,a=t._startSecond,i=t._endSecond;return{mediaStartTime:EFM.Util.hmsToMilliseconds(e,r,a),mediaEndTime:EFM.Util.hmsToMilliseconds(n,o,i)}}},EFM.Util.hasClass=function(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},
/*!
 * Get the first matching element in the DOM
 * (c) 2019 Chris Ferdinandi, MIT License, https://gomakethings.com
 * // https://vanillajstoolkit.com/helpers/
 * @param  {String} selector The element selector
 * @param  {Node}   parent   The parent to search in [optional]
 * @return {Node}            The element
 */
EFM.Util.$=function(t,e){return(e||document).querySelector(t)},
/*!
 * Get an array of all matching elements in the DOM
 * (c) 2019 Chris Ferdinandi, MIT License, https://gomakethings.com
 * @param  {String} selector The element selector
 * @param  {Node}   parent   The parent to search in [optional]
 * @return {Array}           The elements
 */
EFM.Util.$$=function(t,e){return Array.prototype.slice.call((e||document).querySelectorAll(t))},EFM.Util.getNormalizedPageName=function(t){var e=t.toLowerCase().trim(),n=e.indexOf(".html");return n>-1&&(e=e.substr(0,n)),(e=e.replace(/\s+/g,"_").replace(/[^a-z0-9-_]/g,""))+".html"},EFM.Util.transition=function(t,e,n){return t.data.machine.states[e].on[n]||e};